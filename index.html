<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Счетчик до Нового Года</title>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
  <link rel="manifest" href="./favicon/site.webmanifest">
  <link rel="mask-icon" href="./favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">
  <script>
    const vh = window.innerHeight * 0.01;

    document.documentElement.style.setProperty('--vh', `${vh}px`);

    (function() {
      window.addEventListener("resize", resizeThrottler, false);

      var resizeTimeout;
      function resizeThrottler() {

        if ( !resizeTimeout ) {
          resizeTimeout = setTimeout(function() {
            resizeTimeout = null;
            actualResizeHandler();
          }, 66);
        }
      }

      function actualResizeHandler() {
        const vh = window.innerHeight * 0.01;
        
        document.documentElement.style.setProperty('--vh', `${vh}px`);
      }
    }());

  </script>
</head>
<body>
  <audio src="./audio/jingleBells.mp3" autoplay loop muted></audio>
  <section class="timer">
    <h1 class="timer__title">
      <img class="timer__title-hat" src="./img/pngegg.png" alt="hut">
      До нового года осталось
    </h1>

    <div class="timer__wrapper-clock">
      <div class="clock">
        <div class="clock__section">
          <div class="clock__segments-wrapper">
            <div class="clock__segment js-hundredDay">
              <div class="clock__segment-top js-hundredDayTop">0</div>
              <div class="clock__segment-down js-hundredDayDown">0</div>
            </div>
            <div class="clock__segment js-tenDay">
              <div class="clock__segment-top js-tenDayTop">0</div>
              <div class="clock__segment-down js-tenDayDown">0</div>
            </div>
            <div class="clock__segment js-unitDay">
              <div class="clock__segment-top js-unitDayTop">0</div>
              <div class="clock__segment-down js-unitDayDown">0</div>
            </div>
          </div>
          <p class="clock__description js-descriptionDay">Дней</p>
        </div>
        <div class="clock__section">
          <div class="clock__segments-wrapper">
            <div class="clock__segment js-tenHour">
              <div class="clock__segment-top js-tenHourTop">0</div>
              <div class="clock__segment-down js-tenHourDown">0</div>
            </div>
            <div class="clock__segment js-unitHour">
              <div class="clock__segment-top js-unitHourTop">0</div>
              <div class="clock__segment-down js-unitHourDown">0</div>
            </div>
          </div>
          <p class="clock__description js-descriptionHour">Часов</p>
        </div>
        <div class="clock__section">
          <div class="clock__segments-wrapper">
            <div class="clock__segment js-tenMinute">
              <div class="clock__segment-top js-tenMinuteTop">0</div>
              <div class="clock__segment-down js-tenMinuteDown">0</div>
            </div>
            <div class="clock__segment js-unitMinute">
              <div class="clock__segment-top js-unitMinuteTop">0</div>
              <div class="clock__segment-down js-unitMinuteDown">0</div>
            </div>
          </div>
          <p class="clock__description js-descriptionMinute">Минут</p>
        </div>
      </div>
    </div>
    <button class="audio-button audio-button--off js-audioButton" aria-label="muted">
      <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        viewBox="0 0 13 13" style="enable-background:new 0 0 13 13;" xml:space="preserve">

        <symbol id="cross">
          <polygon style="fill:#ffffff;" points="6,11.5 7.5,11.5 9,8 10.5,11.5 12,11.5 10,6.5 12,1.5 10.5,1.5 9,5 7.5,1.5 6,1.5, 8,6.5"/>
        </symbol>

        <symbol id="volume">
          <path style="fill:#ffffff;" d="M7.747,3.17L7,3.833v0.049C7.618,4.557,8,5.481,8,6.5c0,1.02-0.382,1.943-1,2.618v0.049L7.747,9.83
              C8.523,8.966,9,7.793,9,6.5S8.523,4.034,7.747,3.17z"/> -->
          <path style="fill:#ffffff;" d="M9.32,1.771L8.572,2.435C9.466,3.549,10,4.962,10,6.5s-0.534,2.952-1.427,4.064l0.747,0.664
              C10.371,9.939,11,8.294,11,6.5C11,4.707,10.371,3.061,9.32,1.771z"/>
          <path style="fill:#ffffff;" d="M10.848,0.414l-0.752,0.668C11.286,2.56,12,4.445,12,6.5s-0.714,3.939-1.904,5.418l0.752,0.668
              C12.191,10.93,13,8.81,13,6.5S12.191,2.07,10.848,0.414z"/>
        </symbol>
        <g>
          <g>
            <polygon style="fill:#ffffff;" points="0,4.5 0,6.5 0,8.5 2,8.5 5,11.5 5,1.5 2,4.5 		"/>
            <use id="use-icon" href="#cross" />
          </g>
        </g>
      </svg>
    </button>
  </section>

  <script>
    const volumeIcon = document.getElementById('use-icon');
    const audio = document.querySelector('audio');
    const buttonAudioElem = document.querySelector('.js-audioButton');

    buttonAudioElem.addEventListener('click', () => {
      if (audio.muted) {
        audio.play();
        volumeIcon.href.baseVal = "#volume";
      } else {
        audio.pause();
        volumeIcon.href.baseVal = "#cross";
      }
      audio.muted = !audio.muted;
      buttonAudioElem.classList.toggle('audio-button--off');
      buttonAudioElem.classList.toggle('audio-button--on');
    });
  </script>

  <script src="./js/Snowflake.js"></script>
  <script src="./js/SnowFall.js"></script>
  <script src="./js/creatElement.js"></script>
  <script src="./js/NextDigit.js"></script>
  <script src="./js/index.js"></script>
</body>
</html>